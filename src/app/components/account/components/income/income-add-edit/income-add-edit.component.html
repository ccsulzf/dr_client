<main>
  <form>
    <div class="row-3">
      <address-select [title]="'收入地点'" [addressId]="addressId" (setAddress)="onSetAddress($event)"></address-select>
    </div>
    <div class="row-3">
      <fund-party-select [title]="'付款方'" [type]="2" (setFundParty)="onSetFundParty($event)" [fundPartyId]="fundPartyId"></fund-party-select>
    </div>
    <div class="row-3">
      <incomeCategory-select [title]="'收入类别'" (setCategory)="onSetCategory($event)" [incomeCategoryId]="incomeCategoryId"></incomeCategory-select>
    </div>
    <div class="row-3">
      <label>
        收款金额:
      </label>
      <div class="amount">
        <input type="text" name="amount" placeholder="请输入收入金额" [(ngModel)]="amount">
        <span>元</span>
      </div>
    </div>
    <div class="row-3">
      <fundway-select [title]="'收款方式'" (setFundWay)="onSetFundWay($event)" [fundWayId]="fundWayId"></fundway-select>
    </div>
    <div class="row-3">
      <fund-account-select [title]="'存入账户'" [fundWayId]="fundWayId" (setFundAccount)="onSetFundAccount($event)"
        [filterCredit]="true" [fundAccountId]="fundAccountId"></fund-account-select>
    </div>
    <div class="row-6">
      <label>收款周期:</label>
      <div class="row-6 period">
        <input class="row-3" type="date" name="startDate" [(ngModel)]="startDate" [max]="endDate">
        <input class="row-3" type="date" name="endDate" [(ngModel)]="endDate" [min]="startDate">
      </div>
    </div>

    <div class="row-6 participant">
      <participant-select [title]="'参与'" (setParticipantList)="onSetParticipantList($event)" [hasParticipantList]="participantList"></participant-select>
    </div>
    <div class="row-6 label">
      <label-select [title]="'标签'" [type]="'2'" (setLabelList)="onSetLabelList($event)" [hasLabelList]="labelList"></label-select>
    </div>

    <div class="row-6 memo">
      <label>
        备注:
      </label>
      <textarea name="memo" [(ngModel)]="memo" class="row-6"></textarea>
    </div>
  </form>

  <div class="btn-group" *ngIf="!editOrDelFlag && addFlag">
    <button (click)="add()">添加收入</button>
    <button (click)="reset()">重置</button>
  </div>

  <div class="edit-del" *ngIf="editOrDelFlag && !addFlag">
    <div class="btn-group">
      <button (click)="edit()">编辑</button>
      <button (click)="del()">删除</button>
    </div>
    <a (click)="goAdd()">&gt;&gt;添加收入</a>
  </div>
</main>
